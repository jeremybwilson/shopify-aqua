<div class="guide-container">
  <h1 class="guide-title">{{ page.title }}</h1>
  {% for block in section.blocks %}

    {% if block.type == 'html' %}

      {% comment %} ABOUT MODULE - centered text directly below banner image {% endcomment %}
      {% if block.settings.guide_html_block != 'blank' %}
        <div class="guide-block" style="background-color:{{ block.settings.guide_html_block_color }}">
          {{ block.settings.guide_html_block }}
        </div>
      {% endif %}

    {% elsif block.type == 'text_block' %}

      {% comment %} CONTENT MODULE - Paired text & images {% endcomment %}
      <div class="content-module layout-desk--{{ block.settings.module_image_position_desktop }} layout-mob--{{ block.settings.module_image_position_mobile }} color-scheme--{{ block.settings.module_image_color_scheme }}">
        <div class="text-box">

        {% if block.settings.module_html_h2 %}<h2>{{ block.settings.module_html_h2 }}</h2>{% endif %}
        <div class="banner-divider"></div>
        {% if block.settings.module_html_p %}
          <p>{{ block.settings.module_html_p }}</p>
        {% endif %}
      </div>

      <div class="image-box" {%- if block.settings.image_offset != '0' -%}style="margin-{{ block.settings.offset_direction }}:{{ block.settings.image_offset }}px;"{%- endif -%}}>
        <img src="{{ block.settings.module_image | img_url: '800x' }}" />
      </div>
    </div><!-- .content-module -->

    {% endif %}
  {% endfor %}

  {% if section.settings.live_chat_enabled %}
  {% assign live_chat_color_scheme = section.settings.live_chat_color_scheme %}
    <div class="live-chat-bubble{% if live_chat_color_scheme != 'blank' %} color-scheme-{{ live_chat_color_scheme }}{% endif %}">
      <a href="#" title="{{ section.settings.live_chat_text }}">
        <span>{{ section.settings.live_chat_text }}</span>
        {% include 'svg-icon-chat-bubble' %}
      </a>
    </div>
  {% endif %}

</div><!-- /.guide-container -->


<style>
  /* .zEWidget-launcher {
    display: none;
  } */

  #content.row {
    width: 100%;
  }
  .video-url {
    position: relative;
  }
  #content {
    padding-top: 0;
    padding-bottom: 0;
  }
  .block {
    width: 40%;
  }
  .fancybox img {
    margin-bottom: -6px;
  }

  @media screen and ( min-width: 741px ) {
    .block {
      order: inherit !important;
    }
    .block:nth-of-type(even) {
      margin-left: 10%;
    }
    .block:nth-of-type(odd) {
      margin-right: 10%;
    }
  }

	@media screen and ( max-width: 740px ) {
    .about-container {
      flex-direction: column;
        align-items: flex-start;
    }
    .block {
      width: 100%;
    }
    .image-block {
      margin-top: 0 !important;
    }
  }

  .block img {
    width: 100%;
    height: 100%;
  }
</style>

<script>
  jQuery(document).ready(function($){
      $(".fancybox").on("click", function(){
        $.fancybox({
          href: this.href,
          type: $(this).data("type")
        }); // fancybox
        return false
      }); // on
	}); // ready
</script>

{% schema %}
  {
    "name": "Shoe Guide page",
    "max_blocks": 12,
    "settings": [
      {
        "type": "header",
        "content": "SHOE GUIDE SETTINGS"
      },
      {
        "type": "header",
        "content": "LIVE CHAT"
      },
      {
        "type": "checkbox",
        "id": "live_chat_enabled",
        "label": "Enable Live Chat bubble on banner",
        "info": "Checking this box will enable Live Chat bubble on About page template.",
        "default": false
      },
      {
        "type": "text",
        "id": "live_chat_text",
        "label": "Enter Live chat bubble text here.",
        "default": "Live chat"
      },
      {
        "type": "select",
        "id": "live_chat_color_scheme",
        "label": "Live Chat text and fill color",
        "options": [
          {
            "value": "light",
            "label": "Light Background (Transparent Bubble)"
          },
          {
            "value": "dark",
            "label": "Dark Background (Black Bubble)"
          }
        ]
      }
    ],
    "blocks":[
      {
        "type":"html",
        "name":"HTML Block",
        "settings":[
          {
            "type": "html",
            "id": "guide_html_block",
            "label": "Shoe Guide text banner"
          }
        ]
      },
      {
      "type": "text_block",
      "name": "Content Module",
      "settings":[
        {
          "type": "image_picker",
          "id": "module_image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "module_html_h2",
          "label": "HTML Content - <h2> text"
        },
        {
          "type": "html",
          "id": "module_html_p",
          "label": "HTML Content - <p> text",
          "default": "Descriptive paragraph text here"
        },
        {
          "type": "select",
          "id": "module_image_color_scheme",
          "label": "Color Scheme",
          "options": [
            {
              "value": "light",
              "label": "Light Background"
            },
            {
              "value": "gray",
              "label": "Dark (Gray) Background"
            }
          ]
        },
        {
          "type": "select",
          "id": "module_image_position_desktop",
          "label": "Image Position (Desktop)",
          "options": [
            {
              "value": "image_left",
              "label": "Image Left"
            },
            {
              "value": "image_overlap_left",
              "label": "Image Left (Overlap)"
            },
            {
              "value": "image_right",
              "label": "Image Right"
            },
            {
              "value": "image_overlap_right",
              "label": "Image Right (Overlap)"
            }
          ]
        },
        {
          "type": "select",
          "id": "module_image_position_mobile",
          "label": "Image Position (Mobile)",
          "options": [
            {
              "value": "image_top",
              "label": "Image Top"
            },
            {
              "value": "image_bottom",
              "label": "Image Bottom"
            }
          ]
        },
        {
          "type": "select",
          "id": "offset_direction",
          "label": "Image Offset direction (desktop only)",
          "options": [
            {
              "value": "left",
              "label": "Add left padding to image"
            },
            {
              "value": "right",
              "label": "Add right padding to image"
            }
          ]
        },
        {
          "type": "range",
          "id": "image_offset",
          "min": 0,
          "max": 200,
          "step": 25,
          "unit": "px",
          "label": "Image Offset amount",
          "default": 0
        }
      ]
      }
    ]
  }
{% endschema %}
